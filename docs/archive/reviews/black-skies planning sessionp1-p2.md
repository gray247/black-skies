Status: Archived
Version: 0.1.0
Last Reviewed: 2025-11-15

# Task: Black Skies Docs Cleanup – Phase 1 & Phase 2 Execution

You are working in the **black-skies** repository.

Your job is to execute **Phase 1 – Quick Wins & Stray Cleanup** and  
**Phase 2 – Align & De-duplicate Planning Surfaces** from:

> `docs/docs_cleanup_checklist.md`

Do **not** break this into tiny, micro-PR-style changes.  
Aim for **coherent, repo-wide doc cleanup** that implements these phases end-to-end in one focused pass, while still keeping changes logically organized.

Follow the existing project **style guide for Codex** that is already configured for this repo.

---

## Scope

Implement the checklist items in:

- **Phase 1 – Quick Wins & Stray Cleanup (Easy Targets First)**
- **Phase 2 – Align & De-duplicate Planning Surfaces**

from `docs/docs_cleanup_checklist.md`.

You should:

1. Update / move / label existing docs.
2. Retire or archive superseded docs.
3. Add minimal new glue content where necessary (index sections, status headers).
4. Ensure planning surfaces are clearly aligned and non-duplicative.

Do **not** invent new features or change product behavior; this is **documentation structure and clarity** work only.

---

## Constraints & General Rules

- **Obey the project’s Codex style guide** (naming, headings, tone, Markdown conventions).
- Preserve **historical context** when archiving: prefer “marked as archived + brief note” over deleting, unless a doc is obviously useless.
- Prefer **linking to canonical docs** instead of copy-pasting schemas or API contracts.
- Do not touch application code, tests, or config **except** where paths/filenames referenced in docs must be updated to stay correct.
- Keep changes **mechanical and explicit**; avoid deep rewrites of prose unless needed to resolve conflicts or clarify status.

---

## Phase 1 – Quick Wins & Stray Cleanup

Use `docs/docs_cleanup_checklist.md` as the canonical list of goals.  
Implement the *spirit* of the bullets, not just the exact wording.

### 1.1 Deferred / Future-Only Features

1. Identify all docs that are clearly **future-only** or explicitly **not shipping in v1.1**  
   (e.g. `voice_notes_transcription.md`, `plugin_sandbox.md`, any similar “Deferred / future” plans).

2. For each such doc:
   - Add a bold status line at the top, e.g.:

     ```markdown
     > **Status:** Deferred – not shipping in v1.1. Future phase feature.
     ```

   - If possible, note the relevant phase or “Future / TBD”.

3. Ensure each deferred doc is referenced from **one central place**:
   - Prefer adding or updating a **“Deferred Features (Not in v1.1)”** section in either:
     - `docs/BUILD_PLAN.md`, or
     - `docs/roadmap.md`
   - Each entry should include:
     - Doc name (Markdown link)
     - One-line description.

4. (Optional but in-scope) If consistent with existing layout:
   - Either:
     - Move deferred docs into a `docs/deferred/` folder, **or**
     - Adopt a clear naming/tagging convention (e.g. keep them where they are but rely on the status header and central index).

### 1.2 Superseded / Obsolete GUI Planning Docs

1. Confirm that **`docs/gui_fix_plan.md`** is the **canonical consolidated GUI fix / Insights gating plan**.

2. For any older GUI/Insights planning docs that `gui_fix_plan.md` claims to replace  
   (e.g. prior `gui_*` plans, TODO docs, or scattered notes):
   - Either **delete** them if they are fully redundant, **or**
   - Keep them but add a clear header at the top, e.g.:

     ```markdown
     > **Status:** Superseded – see `docs/gui_fix_plan.md`. Do not edit this file.
     ```

3. Ensure related docs like:
   - `docs/gui_offline_insights_and_floats_plan.md`
   - `docs/gui_insights_rescue_kit.md`
   
   are clearly labeled as **supporting docs**:

   - Add a small header marking them as:
     - Category: “Supporting plan / Rescue kit / Deep-dive”
     - Not the primary spec.

### 1.3 One-Off Helpers & Troubleshooting Notes

1. Identify docs that are **troubleshooting / operational notes**, not core planning, e.g.:
   - `docs/start_codex_gui_notes.md`
   - Rescue kits
   - One-off “how to run X” docs

2. For each such doc:
   - Add a tag near the top, e.g.:

     ```markdown
     > **Category:** Troubleshooting / Ops
     ```

3. Make sure they are discoverable from a single index:
   - Either add or update a **“Dev / Ops Notes”** section in one of:
     - `README.md`, or
     - A new small index doc like `docs/dev_ops_notes.md`
   - That index should list and briefly describe these troubleshooting docs.

4. For any doc that is clearly a one-time artifact and no longer useful:
   - Prefer moving to an archival location (e.g. `docs/archive/`) with a short explanation.
   - Only delete outright if it is trivial noise and holds no useful context.

### 1.4 Orphaned / Duplicate Checklists

1. Identify all **build / checklist / playbook** docs, e.g.:
   - `docs/BUILD_STEPS_CHECKLIST.md`
   - `docs/BUILD_STEPS_DETAILED.md`
   - `docs/BUILD_STEPS_PLAYBOOK.md`
   - `docs/P2_ACCEPT_PLAN.md`
   - Milestone verification docs, etc.

2. Determine which checklist(s) reflect **current practice**.

3. Create or confirm a **single canonical “Build & Verification” doc**:
   - Either:
     - Keep one of the existing docs as canonical and consolidate into it, **or**
     - Introduce a clearly named new doc and merge content into it.

4. For non-canonical checklist docs:
   - Merge any still-relevant unique content into the canonical doc.
   - Mark them as archived/superseded in-place, or move them to an archive folder.
   - Add a note pointing to the new canonical location.

5. Quickly sanity-check `phase_log.md` and `docs/phase_charter.md` against:
   - Acceptance / verification docs
   - Build step plans
   - If you find **obvious** conflicts (e.g. phase status vs acceptance criteria), you may:
     - Add a brief TODO note or comment pointing to the mismatch (Phase 2 will deepen the alignment).

---

## Phase 2 – Align & De-duplicate Planning Surfaces

Now align the “Book of Record” docs and make sure everything else points at them instead of re-specifying details.

### 2.1 Master Phase Map (“Book of Record” for Phases)

1. Decide, based on existing content, whether:
   - `docs/phase_charter.md`, or
   - `docs/BUILD_PLAN.md`
   
   is the **primary phase map / Book of Record**.

2. Make that choice explicit:
   - Add a small header or note at the top: e.g.  
     `> **Source of Truth:** Phase sequence and scope for v1.1`.

3. For phase-specific docs, such as:
   - `docs/phase9_charter.md`
   - `docs/phase9_11_testplan.md`
   - `docs/phase9_companion_loop.md`
   - `docs/phase10_recovery_pipeline.md`
   - `docs/phase11_export_pipeline.md`
   - Any similar phase docs

   Ensure each one:

   - Has a **“Source of Truth”** line at the top pointing back to the chosen master doc.
   - Does **not** contradict the master doc’s description of:
     - Scope
     - Out-of-scope
     - High-level goals

4. If a phase has multiple partial docs (charter + testplan + UX notes, etc.):

   - In the main phase doc (charter or pipeline doc), add a **“Phase N Index”** section linking to the related docs (testplan, scripts, GUI impacts, etc.).

### 2.2 Architecture vs Data Model vs Endpoints – Keep Them in Their Lanes

1. Confirm roles:

   - `docs/specs/architecture.md` → High-level system layout, services, data flows.
   - `docs/data_model.md` → Concrete JSON/data schemas and persistence rules.
   - `docs/specs/endpoints.md` → HTTP/FastAPI endpoints, request/response contracts.

2. Find places where other docs re-describe these layers in detail (especially phase docs and feature plans):

   - If they duplicate schemas or endpoint contracts, **remove or shrink the duplicate text**.
   - Replace it with:
     - A short description, **plus**
     - A Markdown link to the canonical spec (`data_model.md` / `endpoints.md`).

3. At the top of each of the three core docs, add a small **“Spec Index”** that points to the others, e.g.:

   - In `architecture.md`:
     - “For data schemas, see `data_model.md`; for API contracts, see `endpoints.md`.”

   - In `data_model.md`:
     - “For overall system architecture, see `architecture.md`; for API contracts, see `endpoints.md`.”

   - In `endpoints.md`:
     - “For system context, see `architecture.md`; for data schemas, see `data_model.md`.”

### 2.3 Consolidate GUI / UX Specs

1. Decide which doc is the **primary GUI/UX spec** (likely `docs/gui/gui_layouts.md`).

2. Update GUI-related docs like:

   - `docs/gui/gui_layouts.md`
   - `docs/gui_theming.md`
   - `docs/phase8_gui_enhancements.md`
   - `docs/gui_fix_plan.md`
   - Accessibility / export panel / offline insights GUI docs

   so that:

   - Exactly one doc is clearly the **primary layout spec**.
   - Others explicitly say they:
     - Extend/implement `gui_layouts.md`, or
     - Provide migration/fix details on top of it.

3. For sections that fully restate layout/UX that already lives in `gui_layouts.md`:

   - Trim to a summary.
   - Add a link back to the canonical section in `gui_layouts.md`.

4. Optionally add a **GUI/UX Index**:

   - Either as a new doc (e.g. `docs/gui_index.md`) or a top section in `gui_layouts.md`.
   - It should list:
     - Layouts
     - Theming
     - Accessibility toggles
     - Offline/Insights behavior
     - Export panel behavior
     - Any clearly-marked future/experimental UX docs.

### 2.4 Align Analytics, Dashboards, and Telemetry Specs

1. Identify all analytics / telemetry / dashboard-related docs, including:
   - `docs/phase9_charter.md`
   - `docs/specs/analytics_service_spec.md`
   - `docs/dashboard_initiatives.md`
   - `docs/performance_telemetry_policy.md`
   - Any others clearly in this space.

2. Make sure these docs **agree** on:

   - Metric names and meaning.
   - Where metrics are stored (DB, `.perf/` JSONL, logs, etc.).
   - How metrics are surfaced (dashboards vs logs vs in-app indicators).

3. When conflicts or duplicate definitions appear:

   - Keep the **most precise, implementation-ready** version as canonical.
   - In secondary docs, replace full re-definitions with:
     - Brief context, plus
     - Links to the canonical spec.

4. Add a small **“Analytics & Telemetry Index”** in whichever doc is the natural hub  
   (likely `analytics_service_spec.md` or `phase9_charter.md`), listing:
   - Related docs
   - Their roles (service spec, dashboard UI, performance policy, etc.)

---

## Self-Check Before Finishing

Before you consider this task complete:

1. Re-open `docs/docs_cleanup_checklist.md` and ensure:
   - All Phase 1 and Phase 2 items are **either**:
     - Clearly implemented, **or**
     - No longer applicable for explicit reasons (which you can briefly note in the checklist doc if needed).

2. Confirm:
   - Deferred features are labeled and discoverable from a central index.
   - Superseded GUI docs clearly point to `gui_fix_plan.md`.
   - There is a clear separation and cross-linking between:
     - Architecture
     - Data model
     - Endpoints
   - Phase docs point back to a single phase “Book of Record”.
   - GUI/UX docs point back to a single GUI “Book of Record”.
   - Analytics/telemetry docs are not contradicting each other.

3. Ensure changes are consistent with:
   - The existing Codex style guide.
   - The tone and formatting used in other up-to-date docs in this repo.

Do not invent new product scope or roadmap items.  
Your goal is to **clean and align** the existing planning surface so future planning and Agent passes operate on a sane, coherent documentation set.
