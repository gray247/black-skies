{
  "phase": "Phase 6",
  "status": "feature-complete",
  "summary": [
    "AnalyticsService now emits project summary, scene metrics, and relationship graph data derived from outlines and draft text.",
    "The renderer ships the Story Insights Dashboard (AnalyticsDashboard) with emotion/pacing visuals, the Corkboard of scene cards, and the Relationship Graph pane.",
    "Insights surfaces the same local Story Insights data with clear offline messaging and dedicated test hooks.",
    "Passoff artifacts, tracker notes, and refinement documentation capture what ships versus what remains deferred."
  ],
  "backend": {
    "analytics": "analytics_stub aggregates outline, drafts, and front-matter to compute summaries, scene metrics, and relationship nodes/edges.",
    "endpoints": {
      "summary": "GET /api/v1/analytics/summary",
      "scenes": "GET /api/v1/analytics/scenes",
      "relationships": "GET /api/v1/analytics/relationships"
    },
    "tests": [
      "services/tests/test_analytics_metrics.py",
      "services/tests/test_analytics_endpoints.py"
    ]
  },
  "renderer": {
    "bridge": [
      "getAnalyticsSummary",
      "getAnalyticsScenes",
      "getAnalyticsRelationships"
    ],
    "surfaces": [
      "Story Insights dashboard (AnalyticsDashboard: summary rows, emotion graph, pacing strip, scene grid)",
      "Corkboard scene cards (sceneId/title/index/word count + density ratios)",
      "RelationshipGraph pane (character/scene nodes + appearsIn edges)",
      "Insights analytics block with offline-aware messaging"
    ],
    "tests": [
      "app/renderer/__tests__/AnalyticsDashboard.test.tsx",
      "app/renderer/__tests__/Corkboard.test.tsx",
      "app/renderer/__tests__/RelationshipGraph.test.tsx",
      "app/renderer/__tests__/AnalyticsNoInvalidRequests.test.tsx",
      "app/renderer/__tests__/StoryInsightsRegression.test.tsx",
      "app/renderer/__tests__/LayoutRegression.test.tsx",
      "app/renderer/__tests__/PerformanceAnalytics.test.tsx"
    ]
  },
  "tests": {
    "status": "Passing in the service and renderer suites.",
    "details": [
      "Server-side metric and endpoint coverage in pytest.",
      "Renderer Vitest coverage for Story Insights surfaces (dashboard, corkboard, relationship graph), hidden-pane rules, valid endpoints, and regression sweeps."
    ]
  },
  "e2e": {
    "status": "Not yet implemented for Phase 6.",
    "notes": "Phase 5 smoke spec covers export/integrity; future phases may add analytics e2e coverage."
  },
  "deferred": [
    "Sophisticated emotion/pacing models and offline caching strategies (see Bucket 9 refinement notes).",
    "Relationship graph layout/interaction beyond a lightweight list of connections.",
    "Insights automation or import analytics beyond local metrics.",
    "Future cross-surface e2e for Story Insights once Phase 9 enables the analytics service."
  ],
  "artifacts": [
    "docs/phase6_analytics_refinement_notes.md",
    "work/phase6/phase6_tracker.md",
    "Renderer analytics components and test fixtures"
  ],
  "version": 1
}
